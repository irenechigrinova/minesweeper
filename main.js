(()=>{"use strict";var e={535:(e,t,n)=>{n.d(t,{Z:()=>x});var o=n(81),r=n.n(o),i=n(645),s=n.n(i),a=n(667),u=n.n(a),d=new URL(n(646),n.b),c=new URL(n(80),n.b),l=new URL(n(253),n.b),p=new URL(n(198),n.b),m=s()(r()),g=u()(d),b=u()(c),f=u()(l),v=u()(p);m.push([e.id,`html,body{padding:0;margin:0;background-color:#ededed}*{box-sizing:border-box;font-family:"Roboto",sans-serif}button{cursor:pointer}body{display:flex;align-items:center;justify-content:center;min-height:100vh}.container{width:fit-content;min-width:252px;height:fit-content;border-right:6px solid gray;border-bottom:6px solid gray;border-left:6px solid #fff;border-top:6px solid #fff;background-color:silver;margin:auto;padding:16px}.border{border-right:6px solid gray;border-bottom:6px solid gray;border-left:6px solid #fff;border-top:6px solid #fff}.border-invert{border-right:6px solid #fff;border-bottom:6px solid #fff;border-left:6px solid gray;border-top:6px solid gray}.border-medium{border-right:4px solid gray;border-bottom:4px solid gray;border-left:4px solid #fff;border-top:4px solid #fff}.border-medium-invert{border-right:4px solid #fff;border-bottom:4px solid #fff;border-left:4px solid gray;border-top:4px solid gray}.border-small{border-right:3px solid gray;border-bottom:3px solid gray;border-left:3px solid #fff;border-top:3px solid #fff}.border-small-invert{border-right:3px solid #fff;border-bottom:3px solid #fff;border-left:3px solid gray;border-top:3px solid gray}.menu{width:100%;display:flex;justify-content:space-between;padding:4px}.menu .number{display:flex}.menu .number div{width:17px;height:29px;background-repeat:no-repeat;background-image:url(${g});background-size:172px}.menu .number div.num-0{background-position:-156px 0px}.menu .number div.num-1{background-position:0px 0px}.menu .number div.num-2{background-position:-17px 0px}.menu .number div.num-3{background-position:-34px 0px}.menu .number div.num-4{background-position:-52px 0px}.menu .number div.num-5{background-position:-69px 0px}.menu .number div.num-6{background-position:-86px 0px}.menu .number div.num-7{background-position:-104px 0px}.menu .number div.num-8{background-position:-121px 0px}.menu .number div.num-9{background-position:-138px 0px}.menu .number div:nth-child(2){position:relative;left:-1px}.menu .number div:last-of-type{position:relative;left:-3px}.menu button{border:unset;outline:unset;width:27px;height:27px;background-image:url(${g});background-position:-1px -27px;background-repeat:no-repeat;background-size:150px;position:relative;top:1px}.menu button.down{background-position:-59px -27px}.menu button.fail{background-position:-118px -27px}.menu button.success{background-position:-88px -27px}.menu button:active{background-position:-30px -27px}.modal{position:fixed;inset:0;margin:auto;width:450px;height:fit-content;background-color:silver;padding:24px}.alert{text-align:center}.alert .fail{width:42px;height:40px;background-image:url(${g});background-repeat:no-repeat;background-position:-85px -40px;background-size:220px;margin:auto}.settings select{width:272px;margin-left:24px;height:32px;outline:unset}.settings .values{display:flex;align-items:flex-start;justify-content:space-between;margin-top:24px}.settings .values input{width:50px;height:24px}.settings .values label{font-size:14px;margin-bottom:4px}.settings .values .block{display:flex;flex-direction:column;align-items:center}.settings button{display:block;width:100px;height:32px;margin:24px auto 0;font-size:16px;text-transform:uppercase}.item{outline:unset;border:unset;background-color:silver;background-repeat:no-repeat;background-image:url(${g});background-size:290px;background-position:1px -106px}.item.mine{background-position:-171px -102px;background-size:280px}.item.empty{background-position:-34px -102px;background-size:280px}.item.question{background-position:-105px -106px;background-size:290px}.item.mine-mark{background-position:-68px -104px;background-size:285px}.item.mine-boom{background-position:-204px -102px;background-size:280px}.item.mine-fail{background-position:-239px -102px;background-size:280px}.item.value-1{background-position:1px -141px;background-size:290px}.item.value-2{background-position:-34px -141px;background-size:290px}.item.value-3{background-position:-70px -141px;background-size:290px}.item.value-4{background-position:-105px -141px;background-size:290px}.item.value-5{background-position:-141px -141px;background-size:290px}.item.value-6{background-position:-176px -141px;background-size:290px}.item.value-7{background-position:-212px -141px;background-size:290px}.item.value-8{background-position:-247px -141px;background-size:290px}.table{display:grid;margin-top:16px}@font-face{font-family:"Roboto";font-style:normal;font-weight:400;font-display:swap;src:url(${b}) format("ttf")}@font-face{font-family:"Roboto";font-style:normal;font-weight:500;font-display:swap;src:url(${f}) format("ttf")}@font-face{font-family:"Roboto";font-style:normal;font-weight:700;font-display:swap;src:url(${v}) format("ttf")}`,""]);const x=m},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(s[u]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);o&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},s=[],a=0;a<e.length;a++){var u=e[a],d=o.base?u[0]+o.base:u[0],c=i[d]||0,l="".concat(d," ").concat(c);i[d]=c+1;var p=n(l),m={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var g=r(m,o);o.byIndex=a,t.splice(a,0,{identifier:l,updater:g,references:1})}s.push(l)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=n(i[s]);t[a].references--}for(var u=o(e,r),d=0;d<i.length;d++){var c=n(i[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=u}}},569:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},198:(e,t,n)=>{e.exports=n.p+"e363a5b2b3bf6f9f36c2.ttf"},80:(e,t,n)=>{e.exports=n.p+"4a799ac5e7daebe83a8c.ttf"},253:(e,t,n)=>{e.exports=n.p+"68cdbb03049084502e4d.ttf"},646:(e,t,n)=>{e.exports=n.p+"0f09fb795572bafd222a.png"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&!e;)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{var e=n(379),t=n.n(e),o=n(795),r=n.n(o),i=n(569),s=n.n(i),a=n(565),u=n.n(a),d=n(216),c=n.n(d),l=n(589),p=n.n(l),m=n(535),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=s().bind(null,"head"),g.domAPI=r(),g.insertStyleElement=c(),t()(m.Z,g),m.Z&&m.Z.locals&&m.Z.locals;const b={beginner:{value:"beginner",name:"Beginner",rows:9,columns:9,mines:10},intermediate:{value:"intermediate",name:"Intermediate",rows:16,columns:16,mines:40},expert:{value:"expert",name:"Expert",rows:16,columns:30,mines:99},custom:{value:"custom",name:"Custom",rows:16,columns:30,mines:99}},f="success",v="failed",x="playing",h="pending",y=e=>e<10?`00${e}`:e<100?`0${e}`:`${e}`,k=e=>{const[t,n,o]=y(e).split("");return`\n    <div class="num-${t}"></div>\n    <div class="num-${n}"></div>\n    <div class="num-${o}"></div>\n  `},w=e=>{const[t,n,o]=y(e).split("");return`\n    <div class="num-${t}"></div>\n    <div class="num-${n}"></div>\n    <div class="num-${o}"></div>\n  `},$=(e,t=[],n={})=>new Proxy(e,{get(e,o){const r=Reflect.get(...arguments);if(r&&"object"==typeof r){if(void 0!==r.size){const{set:e,get:t}=r;r.set=(...t)=>{((e,t,n,o)=>{const r=document.querySelector(`.item[data-value="${e}"]`);t.isHidden?r.className="item hidden":(r.classList.remove("hidden"),t.isMark?r.classList.add("mine-mark"):t.isQuestion?(r.classList.remove("mine-mark"),r.classList.add("question")):t.value?r.classList.add(`value-${t.value}`):t.isEmpty&&r.classList.add("empty"))})(...t,r,n),e.apply(r,t)},r.get=(...e)=>t.apply(r,e)}return $(r,t.concat(o),e)}return r},set(e,o,r){switch(t.concat(o).join(".")){case"settings":(e=>{const t=document.querySelector('input[name="rows"]'),n=document.querySelector('input[name="columns"]'),o=document.querySelector('input[name="mines"]');t.value=e.rows,n.value=e.columns,o.value=e.mines,e.mode===b.custom.value?(t.removeAttribute("disabled"),n.removeAttribute("disabled"),o.removeAttribute("disabled")):(t.setAttribute("disabled","true"),n.setAttribute("disabled","true"),o.setAttribute("disabled","true"))})(r);break;case"settings.rows":case"settings.columns":((e,t)=>{document.querySelector(`input[name="${e}"]`).value=t})(o,r);break;case"ui.isSettingsModalShown":document.querySelector(".modal.settings").remove();break;case"game":(e=>{const t=document.querySelector(".table-wrapper");document.querySelector(".menu-wrapper").innerHTML=(e=>{const{settings:{mines:t},game:{timer:n}}=e;return`\n        <div class="menu border-medium-invert">\n            <div class="mines number">\n             ${k(t)}   \n            </div>\n            <button type="button"></button>\n            <div class="timer number">\n              ${w(n)}\n            </div>\n        </div>\n    `})(e),t.innerHTML=(e=>{const{game:{data:t},settings:{rows:n,columns:o}}=e;return`\n    <div class="table border-medium-invert" style="grid-template-rows: repeat(${n}, 35px); grid-template-columns: repeat(${o}, 35px);">\n        ${Array.from(t).map((([e])=>`\n        <button class="item hidden" data-value="${e}"></button>\n    `)).join("")}\n    </div>\n  `})(e)})({...e,game:r});break;case"ui":((e,t)=>{if(t===x||t===h){const{isMouseDown:t}=e,n=document.querySelector(".menu button");t?n.classList.add("down"):n.classList.remove("down")}})(r,e.game.status);break;case"game.status":((e,t)=>{const n=document.querySelector(".menu button");switch(e){case v:n.classList.add("fail"),(e=>{e.game.data.forEach(((e,t)=>{const n=document.querySelector(`.item[data-value="${t}"]`);e.isMine&&(e.isFailed?n.className="item mine-boom":n.className="item mine"),!e.isMine&&e.isMark&&(n.className="item mine-fail")}))})(t);break;case f:n.classList.add("success");break;default:n.className=""}})(r,n);break;case"game.timer":document.querySelector(".timer").innerHTML=w(r);break;case"game.minesLeft":document.querySelector(".mines").innerHTML=k(r)}return Reflect.set(...arguments)}}),M=$,S={settings:{mode:b.beginner.value,rows:b.beginner.rows,columns:b.beginner.columns,mines:b.beginner.mines},ui:{isMouseDown:!1,isSettingsModalShown:!0},game:{timer:0,status:h,data:new Map,minesLeft:b.beginner.mines,shownCount:0}},L=(e,t)=>Math.floor(Math.random()*(t+1-e)+e),E=(e,t)=>`${L(0,e-1)}-${L(0,t-1)}`,q=e=>{const[t,n]=e.split("-");return[`${+t-1}-${+n-1}`,`${+t-1}-${n}`,`${+t-1}-${+n+1}`,`${t}-${+n-1}`,`${t}-${+n+1}`,`${+t+1}-${+n-1}`,`${+t+1}-${n}`,`${+t+1}-${+n+1}`]},z=e=>{const{rows:t,columns:n,mines:o}=e,r=new Map;for(let e=0;e<t;e+=1)for(let t=0;t<n;t+=1)r.set(`${e}-${t}`,{isEmpty:!0,isHidden:!0,isMine:!1,value:0,isFailed:!1,isQuestion:!1,isMark:!1});let i=o;for(;i;){const e=E(t,n),o=r.get(e);o.isMine||(r.set(e,{...o,isMine:!0,isEmpty:!1}),i-=1)}return r.forEach(((e,t)=>{const n=r.get(t);if(!n.isMine){const e=((e,t)=>{const n=q(t);let o=0;return n.forEach((t=>{const n=e.get(t);n&&n.isMine&&(o+=1)})),o})(r,t);r.set(t,{...n,value:e,isEmpty:0===e})}})),r};let C;const T=(e,t)=>{const n=q(e),o=[];return n.forEach((e=>{t.has(e)||(o.push(e),t.add(e))})),o},H=(e,t)=>{if(!e)return clearInterval(C),void(C=void 0);t.game.status!==v?(t.ui={...t.ui,isMouseDown:!1},t.game.status===h&&(t.game.status=x),t.game.timer||void 0!==C||(C=setInterval((()=>{999===t.game.timer?(clearInterval(C),C=void 0,t.game.status=v):t.game.timer+=1}),1e3)),0===e.button?((e,t)=>{if(e.target&&e.target.dataset.value){const{value:n}=e.target.dataset,o=t.game.data.get(n)||{};if(o.isMark)return;if(o.isMine&&(t.game.data.set(n,{...o,isFailed:!0}),t.game.status=v,clearInterval(C),C=void 0),o.value&&(t.game.data.set(n,{...o,isHidden:!1}),t.game.shownCount+=1),o.isEmpty){const e=((e,t)=>{const n=[e],o=[],r=new Set;for(;n.length;){const e=n.shift(),i=t.get(e);i&&(i.isEmpty&&(o.push(e),n.push(...T(e,r))),i.value&&o.push(e))}return o})(n,t.game.data);e.forEach((e=>{const n=t.game.data.get(e);n.isHidden&&(t.game.shownCount+=1),t.game.data.set(e,{...n,isHidden:!1})}))}const r=t.settings.rows*t.settings.columns;t.game.shownCount===r&&t.game.status===x&&(t.game.status=f,clearInterval(C),C=void 0)}})(e,t):(e.preventDefault(),((e,t)=>{if(e.target&&e.target.dataset.value){const{value:n}=e.target.dataset,o=t.game.data.get(n)||{};!o.isMark&&!o.isQuestion&&t.game.minesLeft>0?(t.game.data.set(n,{...o,isHidden:!1,isMark:!0}),t.game.minesLeft-=1,t.game.shownCount+=1):o.isMark?(t.game.data.set(n,{...o,isHidden:!1,isMark:!1,isQuestion:!0}),t.game.minesLeft+=1,t.game.shownCount+=1):o.isQuestion&&(t.game.data.set(n,{...o,isHidden:!0,isMark:!1,isQuestion:!1}),t.game.shownCount-=1)}})(e,t))):t.game.status!==x&&(clearInterval(C),C=void 0)};window.Proxy?(()=>{const e=M(S);(()=>{const e=document.createElement("div");e.className="modal border settings",document.body.appendChild(e),e.innerHTML=`\n    <h1>Settings</h1>\n    <p>Please, set up game settings</p>\n    <div class="field">\n        <label for="mode">Select mode</label>\n        <select name="mode">\n            ${Object.keys(b).map((e=>`        <option id="${b[e].value}" value="${b[e].value}">${b[e].name}</option>`))}\n        </select>\n        <div class="values">\n            <div class="block">\n                <label for="rows">Rows</label>\n                <input type="number" name="rows" value="${b.beginner.rows}" disabled>\n            </div>\n            <div class="block">\n                <label for="columns">Columns</label>\n                <input type="number" name="columns" value="${b.beginner.columns}" disabled>\n            </div>\n            <div class="block">\n                <label for="mines">Mines</label>\n                <input type="number" name="mines" value="${b.beginner.mines}" max="100" disabled>\n            </div>\n        </div>\n        <button type="button">Start</button>\n    </div>\n    `})(),document.querySelector(".settings select").addEventListener("change",(t=>{((e,t)=>{const n=e.target.value;t.settings={...t.settings,mode:n,rows:b[n].rows,columns:b[n].columns,mines:b[n].mines}})(t,e)})),document.querySelectorAll(".settings input").forEach((t=>{t.addEventListener("input",(t=>{((e,t)=>{const n=e.target.getAttribute("name");t.settings[n]=+e.target.value})(t,e)}))})),document.querySelector(".settings button").addEventListener("click",(()=>{e.ui.isSettingsModalShown=!1,e.game={...e.game,data:z(e.settings),status:h}})),document.querySelector(".table-wrapper").addEventListener("mousedown",(t=>{0===t.button&&e.game.status!==f&&(e.ui={...e.ui,isMouseDown:!0})})),document.querySelector(".table-wrapper").addEventListener("mouseup",(t=>{H(t,e)})),document.querySelector(".table-wrapper").addEventListener("contextmenu",(e=>e.preventDefault())),document.querySelector(".menu-wrapper").addEventListener("click",(t=>{"BUTTON"===t.target.tagName&&(e.game={data:z(e.settings),timer:0,status:h,minesLeft:b[e.settings.mode].mines,shownCount:0},H(null,e))}))})():(()=>{const e=document.createElement("div");e.className="modal border alert",document.body.appendChild(e),e.innerHTML='<h1>Sorry</h1><p>Your browser doesn\'t support this game</p><div class="fail"></div>'})()})()})();